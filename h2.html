<!DOCTYPE html>
<html>
	<head>
		<title>Titlu</title>
		<link rel="stylesheet" href="stil.css" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		<script>
			/* $(function() {}); ia locul body.onload pentru o separare mai buna */

			$(function() {
				var nr = 3;

				var func = function(e){
					if( !$(this).hasClass('id')){
						$(this).css('visibility','hidden');	
						var non_empty_cells = 0;
						$(this).siblings().each(function(e){
							if($(this).css('visibility') !== 'hidden'){
								non_empty_cells++;
							}
						});
						//alert(non_empty_cells);
						if(non_empty_cells === 1){
							$(this).parent().remove();						
							nr --;
							$('#nr').html('<h2 id = "nr"> Studenti :' + nr + '</h2>');
						}
					}				
				}

				$('#formular').submit(function(e) {
					e.preventDefault();

					var nume = $('#nume').val();
					var prenume = $('#prenume').val();
					var data = $('#data').val();
					var fac = $('#facultate').val();
					
					nr++;
					$('#tabel tr:last').after('<tr><td class = "id">' + nr + '</td><td>' + nume +'</td><td>' + prenume +'</td><td>' + data +'</td><td>' + fac +'</td></tr>');
					
					$('#nr').html('<h2 id = "nr"> Studenti :' + nr + '</h2>');
					
					$('#tabel tr:last td').click(func);
				});

				$('#tabel tbody td').click(func);
			});
		</script>
	</head>
	<body>
		<h1>Tabel ex 1</h1>
		<h2 id = "nr">Studenti : 3</h2>

		<hr>

		<table id="tabel" class="main-table">
			<thead>
				<tr>
					<td>Id</td>
					<td>Nume</td>
					<td>Prenume</td>
					<td>DataNasterii</td>
					<td>Facultate</td>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td class = "id">1</td>
					<td>Nastase</td>
					<td>Liviu</td>
					<td>24.07.92</td>
					<td>CTI</td>
				</tr>
				<tr>
					<td class = "id">2</td>
					<td>Istrate</td>
					<td>Roxana</td>
					<td>19.10.92</td>
					<td>CTI</td>
				</tr>
				<tr>
					<td class = "id">3</td>
					<td>Pahontu</td>
					<td>Costin</td>
					<td>11.03.91</td>
					<td>ACS</td>
				</tr>
			</tbody>
		</table>
		<br>
		<form id="formular">
			<input id="nume" type="text" placeholder="Nume" /> <br>
			<input id="prenume" type="text" placeholder="Prenume" /><br>
			<input id="data" type="text" placeholder="Data nasterii" /><br>
			<input id="facultate" type="text" placeholder="Facultate" /><br>
			<input id="submit-formular" type="submit" />
		</form>

		<hr>

	</body>
</html>